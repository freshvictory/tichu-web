<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tichu Scorer</title>

    <link rel="stylesheet" href="./index.css" />
  </head>
  <body>
    <header class="visually-hidden"><h1 class="heading">Tichu</h1></header>
    <main>
      <form id="score-form">
        <div class="teams">
          <output
            id="top-score"
            name="topScore"
            class="score"
            for="taken-points
              top-bet
              bottom-bet
              consecutive-none
              consecutive-us
              consecutive-them
            "
            form="score-form"
            >0</output
          >

          <output
            id="bottom-score"
            name="bottomScore"
            class="score"
            for="taken-points
            top-bet
            bottom-bet
            consecutive-none
            consecutive-top
            consecutive-bottom
          "
            form="score-form"
            >0</output
          >
        </div>

        <fieldset class="points">
          <legend class="visually-hidden">Points</legend>

          <input
            id="consecutive-us"
            type="radio"
            name="consecutive"
            value="us"
          />
          <label for="consecutive-us" class="consecutive">1st & 2nd</label>

          <input
            id="consecutive-none"
            type="radio"
            name="consecutive"
            value="none"
            checked
          />
          <label for="consecutive-none" class="consecutive-none"
            ><span class="visually-hidden">No consecutive victory</span></label
          >

          <label for="taken-points" class="visually-hidden">Taken points</label>
          <div class="range-container">
            <input
              id="taken-points"
              name="takenPoints"
              type="range"
              min="-25"
              max="125"
              step="5"
              value="50"
            />
          </div>

          <input
            id="consecutive-them"
            type="radio"
            name="consecutive"
            value="them"
          />
          <label for="consecutive-them" class="consecutive">1st & 2nd</label>

          <div id="taken-output" for="taken-points">
            <output id="taken-us">50</output>
            <output id="taken-them">50</output>
          </div>
        </fieldset>

        <div class="actions">
          <button
            type="submit"
            data-theme="secondary"
            name="_action"
            value="undo"
            class="secondary"
          >
            Undo
          </button>

          <button type="submit" data-theme="primary" class="submit">
            Score
          </button>
          <button
            type="submit"
            data-theme="secondary"
            name="_action"
            value="new"
            class="secondary"
          >
            New
          </button>
        </div>
      </form>
    </main>

    <script type="module">
      import { attach } from "./index.js";

      const elements = {
        form: document.getElementById("score-form"),

        slider: document.getElementById("taken-points"),
        sliderOutputContainer: document.getElementById("taken-output"),
        sliderOutputUs: document.getElementById("taken-us"),
        sliderOutputThem: document.getElementById("taken-them"),

        consecutiveUs: document.getElementById("consecutive-us"),
        consecutiveThem: document.getElementById("consecutive-them"),
      };

      attach(elements);
    </script>
  </body>
</html>
