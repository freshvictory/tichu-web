<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tichu Scorer</title>

    <link rel="stylesheet" href="./index.css" />
  </head>
  <body>
    <header class="visually-hidden"><h1 class="heading">Tichu</h1></header>
    <main class="page">
      <form id="score-form">
        <div class="teams">
          <label for="top-score" class="score ours"
            >Us
            <output
              id="top-score"
              name="topScore"
              for="taken-points
              top-bet
              bottom-bet
              consecutive-none
              consecutive-us
              consecutive-them
            "
              form="score-form"
              >0</output
            ></label
          >

          <fieldset class="bets ours">
            <legend class="visually-hidden">Our bets</legend>

            <div class="bet-group">
              <input
                type="radio"
                name="betSuccess"
                value="us-1-false"
                id="our-bet-1-failure"
                class="visually-hidden"
              />
              <input
                type="radio"
                name="betSuccess"
                value="us-1-true"
                id="our-bet-1-success"
                class="visually-hidden"
              />
              <label
                for="our-bet-1-failure"
                class="bet-result"
                data-result="failure"
                >✗</label
              >
              <label for="our-bet-1" class="visually-hidden">First bet</label>
              <select id="our-bet-1" name="ourBets" class="bet">
                <option value="none">No bet</option>
                <option value="tichu">Tichu</option>
                <option value="grand">Grand tichu</option>
              </select>

              <label
                for="our-bet-1-success"
                class="bet-result"
                data-result="success"
                >✓</label
              >
            </div>
            <div class="bet-group">
              <input
                type="radio"
                name="betSuccess"
                value="us-2-false"
                id="our-bet-2-failure"
                class="visually-hidden"
              />
              <input
                type="radio"
                name="betSuccess"
                value="us-2-true"
                id="our-bet-2-success"
                class="visually-hidden"
              />
              <label
                for="our-bet-2-failure"
                class="bet-result"
                data-result="failure"
                >✗</label
              >
              <label for="our-bet-2" class="visually-hidden">First bet</label>
              <select id="our-bet-2" name="ourBets" class="bet">
                <option value="none">No bet</option>
                <option value="tichu">Tichu</option>
                <option value="grand">Grand tichu</option>
              </select>

              <label
                for="our-bet-2-success"
                class="bet-result"
                data-result="success"
                >✓</label
              >
            </div>
          </fieldset>

          <hr />

          <fieldset class="bets theirs">
            <legend class="visually-hidden">Their bets</legend>

            <div class="bet-group">
              <input
                type="radio"
                name="betSuccess"
                value="them-1-false"
                id="their-bet-1-failure"
                class="visually-hidden"
              />
              <input
                type="radio"
                name="betSuccess"
                value="them-1-true"
                id="their-bet-1-success"
                class="visually-hidden"
              />
              <label
                for="their-bet-1-failure"
                class="bet-result"
                data-result="failure"
                >✗</label
              >
              <label for="their-bet-1" class="visually-hidden">First bet</label>
              <select id="their-bet-1" name="theirBets" class="bet">
                <option value="none">No bet</option>
                <option value="tichu">Tichu</option>
                <option value="grand">Grand tichu</option>
              </select>

              <label
                for="their-bet-1-success"
                class="bet-result"
                data-result="success"
                >✓</label
              >
            </div>

            <div class="bet-group">
              <input
                type="radio"
                name="betSuccess"
                value="them-2-false"
                id="their-bet-2-failure"
                class="visually-hidden"
              />
              <input
                type="radio"
                name="betSuccess"
                value="them-2-true"
                id="their-bet-2-success"
                class="visually-hidden"
              />
              <label
                for="their-bet-2-failure"
                class="bet-result"
                data-result="failure"
                >✗</label
              >
              <label for="their-bet-1" class="visually-hidden">First bet</label>
              <select id="their-bet-1" name="theirBets" class="bet">
                <option value="none">No bet</option>
                <option value="tichu">Tichu</option>
                <option value="grand">Grand tichu</option>
              </select>

              <label
                for="their-bet-2-success"
                class="bet-result"
                data-result="success"
                >✓</label
              >
            </div>
          </fieldset>

          <label for="bottom-score" class="score theirs"
            >Them
            <output
              id="bottom-score"
              name="bottomScore"
              for="taken-points
            top-bet
            bottom-bet
            consecutive-none
            consecutive-top
            consecutive-bottom
          "
              form="score-form"
              >0</output
            ></label
          >
        </div>

        <fieldset class="points">
          <legend class="visually-hidden">Points</legend>

          <input
            id="consecutive-us"
            type="radio"
            name="consecutive"
            value="us"
            class="visually-hidden"
          />
          <label for="consecutive-us" class="consecutive">1st & 2nd</label>

          <label for="taken-points" class="visually-hidden">Taken points</label>
          <div class="range-container">
            <input
              id="taken-points"
              name="takenPoints"
              type="range"
              min="-25"
              max="125"
              step="5"
              value="50"
            />
          </div>

          <input
            id="consecutive-them"
            type="radio"
            name="consecutive"
            value="them"
            class="visually-hidden"
          />
          <label for="consecutive-them" class="consecutive">1st & 2nd</label>

          <input
            id="consecutive-none"
            type="radio"
            name="consecutive"
            value="none"
            class="visually-hidden"
            checked
          />
          <label for="consecutive-none" class="consecutive-none">
            <span class="visually-hidden">No consecutive victory</span>
          </label>

          <div id="taken-output" for="taken-points">
            <output id="taken-us">50</output>
            <output id="taken-them">50</output>
          </div>
        </fieldset>

        <button type="submit" id="crash" value="crash">
          Things are not looking good
        </button>

        <div class="actions">
          <button
            type="submit"
            data-theme="secondary"
            value="undo"
            class="secondary"
          >
            Undo
          </button>

          <button type="submit" data-theme="primary" class="submit">
            Score
          </button>
          <button
            type="submit"
            data-theme="secondary"
            value="new"
            class="secondary"
          >
            New
          </button>
        </div>

        <div id="turn-record"></div>
      </form>
    </main>

    <!-- <div class="page">
      <section class="history-container" aria-labelledby="history">
        <h2 id="history">History</h2>
      </section>
    </div> -->

    <script type="module">
      import { attach } from "./index.js";

      const elements = {
        form: document.getElementById("score-form"),

        slider: document.getElementById("taken-points"),
        sliderOutputUs: document.getElementById("taken-us"),
        sliderOutputThem: document.getElementById("taken-them"),

        consecutiveUs: document.getElementById("consecutive-us"),
        consecutiveThem: document.getElementById("consecutive-them"),

        topTeamOutput: document.getElementById("top-score"),
        bottomTeamOutput: document.getElementById("bottom-score"),

        turnRecord: document.getElementById("turn-record"),

        crash: document.getElementById("crash"),
      };

      attach(elements, localStorage);
    </script>
  </body>
</html>
